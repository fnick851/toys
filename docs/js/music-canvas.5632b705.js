(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["music-canvas"],{1073:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("canvas",{ref:"canvas"})},a=[];function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var u=function(){function t(e,i,n){o(this,t),this.context=e,this.urlList=i,this.onload=n,this.bufferList=new Array,this.loadCount=0}return s(t,[{key:"loadBuffer",value:function(t,e){var i=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){i.context.decodeAudioData(n.response,(function(n){n?(i.bufferList[e]=n,++i.loadCount==i.urlList.length&&i.onload(i.bufferList)):alert("error decoding file data: "+t)}),(function(t){alert("decodeAudioData error",t)}))},n.onerror=function(){alert("BufferLoader: XHR error")},n.send()}},{key:"load",value:function(){for(var t=0;t<this.urlList.length;++t)this.loadBuffer("audio/".concat(this.urlList[t]),t)}}]),t}(),c=u,l=function(){function t(){o(this,t),this.gainNode=void 0,this.bufferList=void 0,this.audioContext=new(window.AudioContext||window.webkitAudioContext)}return s(t,[{key:"init",value:function(t){this.bufferList=t,this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination)}},{key:"play",value:function(t){var e=this.audioContext.createBufferSource();e.connect(this.gainNode),e.buffer=this.bufferList[t],e.start(0),e.stop(this.audioContext.currentTime+18)}}]),t}(),d=l,f=(i("cb29"),function(){function t(e,i){o(this,t),this.canvas=e,this.audio=i,this.clicks=[],this.frameRate=1e3/30,this.loopRate=4e3,this.maxRadius=80}return s(t,[{key:"handleClick",value:function(t){var e=this,i=t.offsetX,n=t.offsetY,a=e.clicks.push({x:i,y:n,radius:0});e.audio.play(i%10),setInterval((function(){e.clicks[a-1].radius=0,e.audio.play(i%10)}),e.loopRate)}},{key:"updateDisplay",value:function(){var t=this,e=t.canvas.getContext("2d");e.clearRect(0,0,t.canvas.width,t.canvas.height),e.fillStyle="black",e.fillRect(0,0,t.canvas.width,t.canvas.height);for(var i=0;i<t.clicks.length;i++){var n=t.clicks[i];if(!(n.radius>t.maxRadius)){n.radius+=1;var a=.7;n.radius>t.maxRadius-15&&(a=(t.maxRadius-n.radius)/10),t.drawCircle(e,n.x,n.y,n.radius,a)}}}},{key:"drawCircle",value:function(t,e,i,n,a){t.beginPath(),t.arc(e,i,n,0,2*Math.PI),t.fillStyle="rgba("+e%256+", "+i%256+", "+e*i%256+" ,"+a+")",t.fill()}}]),t}()),h=f,v={name:"MusicCanvas",mounted:function(){var t=this,e=function(){t.$refs.canvas.width=window.innerWidth,t.$refs.canvas.height=window.innerHeight};e(),window.onresize=e;var i=new d,n=function(e){i.init(e);var n=new h(t.$refs.canvas,i);t.$refs.canvas.addEventListener("mousedown",n.handleClick.bind(n),!1),setInterval(n.updateDisplay.bind(n),n.frameRate)},a=new c(i.audioContext,["A4.mp3","A5.mp3","C4.mp3","C5.mp3","D4.mp3","D5.mp3","E4.mp3","E5.mp3","G4.mp3","G5.mp3"],n);a.load()}},p=v,w=i("2877"),b=Object(w["a"])(p,n,a,!1,null,null,null);e["default"]=b.exports},"81d5":function(t,e,i){"use strict";var n=i("7b0b"),a=i("23cb"),o=i("50c4");t.exports=function(t){var e=n(this),i=o(e.length),r=arguments.length,s=a(r>1?arguments[1]:void 0,i),u=r>2?arguments[2]:void 0,c=void 0===u?i:a(u,i);while(c>s)e[s++]=t;return e}},cb29:function(t,e,i){var n=i("23e7"),a=i("81d5"),o=i("44d2");n({target:"Array",proto:!0},{fill:a}),o("fill")}}]);
//# sourceMappingURL=music-canvas.5632b705.js.map