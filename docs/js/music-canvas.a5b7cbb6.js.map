{"version":3,"sources":["webpack:///./src/views/MusicCanvas.vue?a507","webpack:///./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack:///./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack:///./src/classes/music-canvas/BufferLoader.js","webpack:///./src/classes/music-canvas/Audio.js","webpack:///./src/classes/music-canvas/View.js","webpack:///src/views/MusicCanvas.vue","webpack:///./src/views/MusicCanvas.vue?30e9","webpack:///./src/views/MusicCanvas.vue","webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./node_modules/core-js/modules/es.array.for-each.js","webpack:///./node_modules/core-js/internals/array-species-create.js","webpack:///./node_modules/core-js/internals/array-fill.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/internals/array-method-uses-to-length.js","webpack:///./node_modules/core-js/internals/array-iteration.js","webpack:///./node_modules/core-js/modules/es.array.fill.js","webpack:///./node_modules/core-js/internals/is-array.js","webpack:///./node_modules/core-js/internals/dom-iterables.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","on","$event","playNote","staticRenderFns","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","BufferLoader","context","urlList","callback","onload","bufferList","Array","loadCount","url","index","request","XMLHttpRequest","open","responseType","decodeAudioData","response","buffer","alert","error","onerror","send","loadBuffer","Audio","gainNode","undefined","audioContext","window","AudioContext","webkitAudioContext","createGain","gain","value","connect","destination","sound","createBufferSource","start","stop","currentTime","View","canvas","audio","clicks","frameRate","loopRate","maxRadius","audioLoop","event","x","offsetX","y","offsetY","pos","push","radius","play","setInterval","getContext","clearRect","width","height","fillStyle","fillRect","circle","alpha","drawCircle","beginPath","arc","Math","PI","fill","name","data","view","displayLoop","created","mounted","setCanvasSize","onresize","methods","handleClick","bind","e","beforeDestroy","forEach","clearInterval","component","global","DOMIterables","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","$forEach","arrayMethodIsStrict","arrayMethodUsesToLength","STRICT_METHOD","USES_TO_LENGTH","module","exports","callbackfn","arguments","$","proto","forced","isObject","isArray","wellKnownSymbol","SPECIES","originalArray","C","constructor","toObject","toAbsoluteIndex","toLength","O","argumentsLength","end","endPos","fails","METHOD_NAME","argument","method","call","DESCRIPTORS","has","cache","thrower","it","options","ACCESSORS","argument0","argument1","get","IndexedObject","arraySpeciesCreate","createMethod","TYPE","IS_MAP","IS_FILTER","IS_SOME","IS_EVERY","IS_FIND_INDEX","NO_HOLES","$this","that","specificCreate","result","self","boundFunction","create","map","filter","some","every","find","findIndex","addToUnscopables","classof","arg","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList"],"mappings":"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","file":"js/music-canvas.a5b7cbb6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('canvas',{ref:\"canvas\",on:{\"click\":function($event){return _vm.playNote($event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","class BufferLoader {\n  constructor(context, urlList, callback) {\n    this.context = context\n    this.urlList = urlList\n    this.onload = callback\n    this.bufferList = new Array()\n    this.loadCount = 0\n  }\n\n  loadBuffer(url, index) {\n    // Load buffer asynchronously\n    const request = new XMLHttpRequest()\n    request.open('GET', url, true)\n    request.responseType = 'arraybuffer'\n    request.onload = () => {\n      // Asynchronously decode the audio file data in request.response\n      this.context.decodeAudioData(\n        request.response,\n        buffer => {\n          if (!buffer) {\n            alert('error decoding file data: ' + url)\n            return\n          }\n          this.bufferList[index] = buffer\n          if (++this.loadCount == this.urlList.length)\n            this.onload(this.bufferList)\n        },\n        error => {\n          alert('decodeAudioData error', error)\n        },\n      )\n    }\n    request.onerror = () => {\n      alert('BufferLoader: XHR error')\n    }\n    request.send()\n  }\n\n  load() {\n    for (let i = 0; i < this.urlList.length; ++i) {\n      this.loadBuffer(`audio/${this.urlList[i]}`, i)\n    }\n  }\n}\n\nexport default BufferLoader\n","class Audio {\n  constructor() {\n    this.gainNode = undefined\n    this.bufferList = undefined\n    this.audioContext = new (window.AudioContext || window.webkitAudioContext)()\n  }\n\n  init(bufferList) {\n    this.bufferList = bufferList\n    this.gainNode = this.audioContext.createGain()\n    this.gainNode.gain.value = 1\n    this.gainNode.connect(this.audioContext.destination)\n  }\n\n  play(i) {\n    const sound = this.audioContext.createBufferSource()\n    sound.connect(this.gainNode)\n    sound.buffer = this.bufferList[i]\n    sound.start(0)\n    sound.stop(this.audioContext.currentTime + 18)\n  }\n}\n\nexport default Audio\n","class View {\n  constructor(canvas, audio) {\n    this.canvas = canvas\n    this.audio = audio\n    this.clicks = []\n    this.frameRate = 1000 / 30\n    this.loopRate = 4000\n    this.maxRadius = 80\n    this.audioLoop = []\n  }\n\n  handleClick(event) {\n    const x = event.offsetX\n    const y = event.offsetY\n    const pos = this.clicks.push({ x: x, y: y, radius: 0 })\n    this.audio.play(x % 10)\n    this.audioLoop.push(\n      setInterval(() => {\n        this.clicks[pos - 1].radius = 0\n        this.audio.play(x % 10)\n      }, this.loopRate),\n    )\n  }\n\n  updateDisplay() {\n    const context = this.canvas.getContext('2d')\n    context.clearRect(0, 0, this.canvas.width, this.canvas.height)\n    context.fillStyle = 'black'\n    context.fillRect(0, 0, this.canvas.width, this.canvas.height)\n    for (let i = 0; i < this.clicks.length; i++) {\n      const circle = this.clicks[i]\n      if (circle.radius > this.maxRadius) continue\n      circle.radius += 1\n      let alpha = 0.7\n      if (circle.radius > this.maxRadius - 15)\n        alpha = (this.maxRadius - circle.radius) / 10\n      this.drawCircle(context, circle.x, circle.y, circle.radius, alpha)\n    }\n  }\n\n  drawCircle(context, x, y, radius, alpha) {\n    context.beginPath()\n    context.arc(x, y, radius, 0, 2 * Math.PI)\n    context.fillStyle =\n      'rgba(' +\n      (x % 256) +\n      ', ' +\n      (y % 256) +\n      ', ' +\n      ((x * y) % 256) +\n      ' ,' +\n      alpha +\n      ')'\n    context.fill()\n  }\n}\n\nexport default View\n","<template>\n  <canvas ref=\"canvas\" @click=\"playNote($event)\"></canvas>\n</template>\n\n<script>\nimport BufferLoader from '../classes/music-canvas/BufferLoader.js'\nimport Audio from '../classes/music-canvas/Audio.js'\nimport View from '../classes/music-canvas/View.js'\n\nexport default {\n  name: 'MusicCanvas',\n  data() {\n    return {\n      audio: new Audio(),\n      view: { handleClick: () => {} },\n      displayLoop: null,\n    }\n  },\n  created() {\n    new BufferLoader(\n      this.audio.audioContext,\n      [\n        'A4.mp3',\n        'A5.mp3',\n        'C4.mp3',\n        'C5.mp3',\n        'D4.mp3',\n        'D5.mp3',\n        'E4.mp3',\n        'E5.mp3',\n        'G4.mp3',\n        'G5.mp3',\n      ],\n      bufferList => {\n        this.audio.init(bufferList)\n        this.view = new View(this.$refs.canvas, this.audio)\n        this.displayLoop = setInterval(\n          this.view.updateDisplay.bind(this.view),\n          this.view.frameRate,\n        )\n      },\n    ).load()\n  },\n  mounted() {\n    const setCanvasSize = () => {\n      this.$refs.canvas.width = window.innerWidth\n      this.$refs.canvas.height = window.innerHeight\n    }\n    setCanvasSize()\n    window.onresize = setCanvasSize\n  },\n  methods: {\n    playNote(e) {\n      this.view.handleClick.bind(this.view)\n      this.view.handleClick(e)\n    },\n  },\n  beforeDestroy() {\n    this.view.audioLoop.forEach(audioLoop => clearInterval(audioLoop))\n    clearInterval(this.displayLoop)\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicCanvas.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MusicCanvas.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MusicCanvas.vue?vue&type=template&id=30a346ce&\"\nimport script from \"./MusicCanvas.vue?vue&type=script&lang=js&\"\nexport * from \"./MusicCanvas.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\nmodule.exports = (!STRICT_METHOD || !USES_TO_LENGTH) ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n} : [].forEach;\n","'use strict';\nvar $ = require('../internals/export');\nvar forEach = require('../internals/array-for-each');\n\n// `Array.prototype.forEach` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n$({ target: 'Array', proto: true, forced: [].forEach != forEach }, {\n  forEach: forEach\n});\n","var isObject = require('../internals/is-object');\nvar isArray = require('../internals/is-array');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar SPECIES = wellKnownSymbol('species');\n\n// `ArraySpeciesCreate` abstract operation\n// https://tc39.github.io/ecma262/#sec-arrayspeciescreate\nmodule.exports = function (originalArray, length) {\n  var C;\n  if (isArray(originalArray)) {\n    C = originalArray.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    else if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return new (C === undefined ? Array : C)(length === 0 ? 0 : length);\n};\n","'use strict';\nvar toObject = require('../internals/to-object');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.fill` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\nmodule.exports = function fill(value /* , start = 0, end = @length */) {\n  var O = toObject(this);\n  var length = toLength(O.length);\n  var argumentsLength = arguments.length;\n  var index = toAbsoluteIndex(argumentsLength > 1 ? arguments[1] : undefined, length);\n  var end = argumentsLength > 2 ? arguments[2] : undefined;\n  var endPos = end === undefined ? length : toAbsoluteIndex(end, length);\n  while (endPos > index) O[index++] = value;\n  return O;\n};\n","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","var DESCRIPTORS = require('../internals/descriptors');\nvar fails = require('../internals/fails');\nvar has = require('../internals/has');\n\nvar defineProperty = Object.defineProperty;\nvar cache = {};\n\nvar thrower = function (it) { throw it; };\n\nmodule.exports = function (METHOD_NAME, options) {\n  if (has(cache, METHOD_NAME)) return cache[METHOD_NAME];\n  if (!options) options = {};\n  var method = [][METHOD_NAME];\n  var ACCESSORS = has(options, 'ACCESSORS') ? options.ACCESSORS : false;\n  var argument0 = has(options, 0) ? options[0] : thrower;\n  var argument1 = has(options, 1) ? options[1] : undefined;\n\n  return cache[METHOD_NAME] = !!method && !fails(function () {\n    if (ACCESSORS && !DESCRIPTORS) return true;\n    var O = { length: -1 };\n\n    if (ACCESSORS) defineProperty(O, 1, { enumerable: true, get: thrower });\n    else O[1] = 1;\n\n    method.call(O, argument0, argument1);\n  });\n};\n","var bind = require('../internals/function-bind-context');\nvar IndexedObject = require('../internals/indexed-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar arraySpeciesCreate = require('../internals/array-species-create');\n\nvar push = [].push;\n\n// `Array.prototype.{ forEach, map, filter, some, every, find, findIndex }` methods implementation\nvar createMethod = function (TYPE) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  return function ($this, callbackfn, that, specificCreate) {\n    var O = toObject($this);\n    var self = IndexedObject(O);\n    var boundFunction = bind(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var create = specificCreate || arraySpeciesCreate;\n    var target = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var value, result;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      value = self[index];\n      result = boundFunction(value, index, O);\n      if (TYPE) {\n        if (IS_MAP) target[index] = result; // map\n        else if (result) switch (TYPE) {\n          case 3: return true;              // some\n          case 5: return value;             // find\n          case 6: return index;             // findIndex\n          case 2: push.call(target, value); // filter\n        } else if (IS_EVERY) return false;  // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : target;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.forEach` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.foreach\n  forEach: createMethod(0),\n  // `Array.prototype.map` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.map\n  map: createMethod(1),\n  // `Array.prototype.filter` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.filter\n  filter: createMethod(2),\n  // `Array.prototype.some` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.some\n  some: createMethod(3),\n  // `Array.prototype.every` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.every\n  every: createMethod(4),\n  // `Array.prototype.find` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.find\n  find: createMethod(5),\n  // `Array.prototype.findIndex` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex\n  findIndex: createMethod(6)\n};\n","var $ = require('../internals/export');\nvar fill = require('../internals/array-fill');\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.fill` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.fill\n$({ target: 'Array', proto: true }, {\n  fill: fill\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('fill');\n","var classof = require('../internals/classof-raw');\n\n// `IsArray` abstract operation\n// https://tc39.github.io/ecma262/#sec-isarray\nmodule.exports = Array.isArray || function isArray(arg) {\n  return classof(arg) == 'Array';\n};\n","// iterable DOM collections\n// flag - `iterable` interface - 'entries', 'keys', 'values', 'forEach' methods\nmodule.exports = {\n  CSSRuleList: 0,\n  CSSStyleDeclaration: 0,\n  CSSValueList: 0,\n  ClientRectList: 0,\n  DOMRectList: 0,\n  DOMStringList: 0,\n  DOMTokenList: 1,\n  DataTransferItemList: 0,\n  FileList: 0,\n  HTMLAllCollection: 0,\n  HTMLCollection: 0,\n  HTMLFormElement: 0,\n  HTMLSelectElement: 0,\n  MediaList: 0,\n  MimeTypeArray: 0,\n  NamedNodeMap: 0,\n  NodeList: 1,\n  PaintRequestList: 0,\n  Plugin: 0,\n  PluginArray: 0,\n  SVGLengthList: 0,\n  SVGNumberList: 0,\n  SVGPathSegList: 0,\n  SVGPointList: 0,\n  SVGStringList: 0,\n  SVGTransformList: 0,\n  SourceBufferList: 0,\n  StyleSheetList: 0,\n  TextTrackCueList: 0,\n  TextTrackList: 0,\n  TouchList: 0\n};\n"],"sourceRoot":""}